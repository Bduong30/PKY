<div class="container-full">
<div class="row">

	<div class="col-lg-10 black-text">
	<div class="admin-analysis">
		<h1 ng-show="loading" style="font-weight:150%"> LOADING </h1>
		<h1 ng-show="error" style="font-weight:150%"> ERROR </h1>
		<pre ng-show="error">{{error | json}}</pre>
		<div ng-if="!error">
			<div class="exam-header">
				<h1 class="Title">{{attempt.exam_title}}</h1>
				<h4 class="ClassTitle">{{attempt.exam_class}}</h4>
			</div>
			<div class="exam-buttons">
				<button class="btn btn-primary"  ng-click="previousQuestion()">
				<span class="glyphicon glyphicon-arrow-left"></span>
				</button>
				<div class="btn-group" uib-dropdown is-open="status.isopen">
					<button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
					{{indx+1 + " / " +attempt.questions.length}} <span class="caret"></span>
					</button>
					<ul uib-dropdown-menu role="menu" aria-labelledby="single-button">
					<li ng-repeat="i in attempt.questions" role="menuitem" ng-click="selectQuestion(i)"><a href="#">{{$index+1}}</a></li>
					</ul>
				</div>
				<button class="btn btn-primary"  ng-click="nextQuestion()">
				<span class="glyphicon glyphicon-arrow-right"></span>
				</button>
				<button id="myBtn" class="btn btn-primary" type="button" ng-click="open_calculator()">
					<i class="glyphicon glyphicon-modal-window"></i> Calculator
				</button>
				<button class="btn btn-primary" type="button" ng-click="submit_attempt()">
					<i class="glyphicon glyphicon-plus"></i> Submit
				</button>	
			</div>
		</div>
		<br>
		<br><div class="titleHeader" style="height:60px;">&nbsp</div>
		<br>
		<div ng-repeat="question in attempt.questions" ng-show="indx === $index">
			<div class="QuestionNumber">{{$index+1}})</div>
			<table ng-show="question.data.type === multiple_choice">
				<tr>
				<td></td>
					<td>
						<pre mathjax="question.data.content"></pre>
					</td>
				</tr>
				<tr ng-repeat="answer in question.data.answers">
					<td style="padding-left:20px">
						<input type="radio" 
						ng-model="question.selected_answer" 
						value="{{answer._id}}" 
						ng-click="answer.correct = true; save_answer(question.data, answer); ">
							
						</input>
					</td>
					<td>
						<pre mathjax="answer.content"></pre>
					</td>
				</tr>
			</table>
			<table ng-show="question.data.type === multiple_select">
				<tr>
				<td></td>
					<td>
						<pre mathjax="question.data.content"><pre>
					</td>
				</tr>
				<tr ng-repeat="answer in question.data.answers">
					<td class="choice" style="padding-left:20px">
						<input type="checkbox" 
						ng-model="answer.correct" 
						value="{{answer._id}}" 
						ng-click="save_answer(question.data, answer)">
						</input>
					</td>
					<td>
						<pre mathjax="answer.content"></pre>
					</td>
				</tr>
			</table>
			<table ng-show="question.data.type === fill_in_the_blank">
				<tr>
					<td>
						<pre mathjax="question.data.content"></pre>
					</td>
				</tr>
				<tr ng-repeat="answer in question.data.answers">
					<td style="padding-left:20px">
						<pre mathjax="answer.label"></pre>
					</td>
					<!-- numeric answer -->
					<td ng-show="answer.is_numeric">
						<input class="form-control" type="number" ng-model="answer.value"  ng-change="save_answer(question.data,answer)" ng-model-options="{debounce: 1000}">
					</td>
					<!-- non numeric -->
					<td ng-show="!answer.is_numeric">
						<textarea class="form-control" ng-model="answer.content" ng-change="save_answer(question.data,answer)" ng-model-options="{debounce: 1000}"></textarea>
					</td>
				</tr>
			</table>
		</div>
	</div>
	</div>
	
	<div class="col-lg-2">
		<div class=exam-timer">
			{{attempt.start_time}}
		</div>
		<div ng-repeat="question in attempt.questions">
			{{'Question ' + ($index + 1)}}
		</div>
	</div>
</div>
</div>




<!--
<h1>{{attempt.exam_title}}</h1>
<h4>{{attempt.exam_class}}</h4>
<h1 ng-show="loading" style="font-weight:150%"> LOADING </h1>
<h1 ng-show="error" style="font-weight:150%"> ERROR </h1>
<pre ng-show="error"> {{error | json}}</pre>
	<table class = "tablePadding">
		<tr class = "tablePadding">
			<td class = "buttonTable">
				<button class="btn btn-primary" type="button" ng-click="submit_attempt()">
					<i class="glyphicon glyphicon-plus">Submit</i>
				</button>	
			</td>
			<td class = "buttonTable">
				<button id="myBtn" class="btn btn-primary" type="button" ng-click="open_calculator()">
					<i class="glyphicon glyphicon-modal-window">Calculator</i>
				</button>
			</td>
			<td class = "buttonTable">
				<button class="btn btn-default"  ng-click="previousQuestion()">
					<span class="glyphicon glyphicon-arrow-left"></span>
				</button>
			</td>
			<td class = "buttonTable">
				<div> {{indx + 1}} / {{attempt.questions.length}}<div>
			</td>
			<td class = "buttonTable">
				<button class="btn btn-default"  ng-click="nextQuestion()">
					<span class="glyphicon glyphicon-arrow-right"></span>
				</button>
			</td>
		</tr>
	</table>	
-->